language: node_js
node_js:
- 6
cache:
  directories:
  - node_modules
script:
- npm test
- npm run build
deploy:
  provider: s3
  access_key_id: AKIAJ77NF7PUVCABJSYA
  secret_access_key:
    secure: Q7z5T9z4ci1zSdAZwLYVtJqrEnpbVYvNajC2CaAEJfdtYPNTM2H0zPSomm3TrdBxcOR0V3yXlYbexoezkY4KYhUWqc+1jel0R+28sRSOPqdIo4/PLdbh5+AaaruEzLoXA+oIrES5iJ9O/Fb8oesE/qvl0A0v+5ycXpKyju7ixUbePzpZT3KJ86lGlQzfgX1aO4AHZx6rmzm2A/aqQd0jZxzIU5d48eJ6EahDf4g1+TlT/Me+q+2EWYhPVT9qFLDuM4YAbI/icHqUv+pXFHfqORJgneIGRU5HnTU3dEakSmgskLWfnPASXqqGdIceOgvGe0CWEHh1MqalPDu9yKxr7hU3CtWMFFxzpR57EPuXWzjlJtS9VrDaSxuyRea9H1TqChoZzGU1BLSSAPhBue+SuHEndRkExdvOdzPh1JKujsUmr6U3hvNcGHjR5AlX6k2DUxjqS+QvqiCNHX2nGtte2BnnYHYIONcG5WE/8WQKLvDWtRaU3ex1jcN43sB+/Y1b9DYdCVfUJLp8SX4Rn4TOHmez4+cBMELyLhiOIx3LH7x0yxYbDK0u/pwnJeV8E814wgICDUS+CiwcMplQN5aRSF4XjWuLIRQp/toX44QbxklZWwHb1HpLNrQsM0AhOL8wKMEbUN0sOWDi62+vQVlzZqGmERloxOP/dfW8Yw0f0Pg=
  bucket: happyhabit.app
  region: eu-west-1
  local_dir: build
  skip_cleanup: true
  on:
    branch: master
  cache_control: max-age=21600
  acl: public_read
